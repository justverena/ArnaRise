<template>
  <div class="marriage-indicator">
    <LineChart :labels="labels" :values="values" />
  </div>
</template>

<script setup>
import { computed } from 'vue'
import LineChart from '../charts/LineChart.vue' // âœ… Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð³Ñ€Ð°Ñ„Ð¸Ðº

const props = defineProps({
  filters: {
    type: Object,
    required: false,
    default: () => ({})
  }
})

// â—Ð—Ð°Ð³Ð»ÑƒÑˆÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… â€” Ð·Ð°Ð¼ÐµÐ½Ð¸ÑˆÑŒ Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð·Ð¶Ðµ
const rawMarriageData = [
  { year: '2020', count: 2400 },
  { year: '2021', count: 3100 },
  { year: '2022', count: 2900 },
  { year: '2023', count: 3300 }
]

// ðŸ“Œ Ð—Ð´ÐµÑÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ Ðº Ð´Ð°Ð½Ð½Ñ‹Ð¼
const filteredData = computed(() => {
  // ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ â€” Ð¿Ð¾ÐºÐ° Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ ÐºÐ°Ðº ÐµÑÑ‚ÑŒ
  return rawMarriageData
})

// ðŸŽ¯ labels Ð¸ values â€” Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð¼Ñƒ Ð³Ñ€Ð°Ñ„Ð¸ÐºÑƒ
const labels = computed(() => filteredData.value.map(entry => entry.year))
const values = computed(() => filteredData.value.map(entry => entry.count))
</script>

<style scoped>
.marriage-indicator {
  width: 100%;
}
</style>
